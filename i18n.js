/* MM Consultores - Internationalization (ES/EN) */
(function() {
    const t = {
        es: {
            'nav.home': 'Inicio',
            'nav.about': 'Nosotros',
            'nav.services': 'Servicios',
            'nav.contact': 'Contacto',
            'hero.tagline': 'Consultoría jurídica, fiscal y corporativa',
            'hero.line1': 'Problemas complejos,',
            'hero.line2': 'soluciones estratégicas',
            'hero.subline': 'Asesoría con enfoque estratégico y atención personalizada para empresas y familias.',
            'hero.cta': 'Ver los servicios',
            'about.label': 'Nuestro despacho',
            'about.para': 'Nuestra firma opera bajo un modelo de sistemas integrales de solución. No ofrecemos servicios aislados, sino estructuras jurídicas, fiscales, contables, administrativas y patrimoniales interconectadas, diseñadas para ordenar, proteger y construir con visión de largo plazo.',
            'mission.title': 'Nuestra misión',
            'mission.p1': 'Brindar soluciones jurídicas, fiscales, contables, empresariales y corporativas integrales, construidas a partir del análisis profundo de cada caso, con el propósito de generar orden, certeza, prevención y estabilidad patrimonial y empresarial.',
            'mission.p2': 'Nuestra misión no será resolver problemas aislados, sino diseñar estructuras jurídicas y financieras que permitan a personas y empresas tomar decisiones informadas, seguras y sostenibles, incluso en escenarios adversos.',
            'vision.title': 'Nuestra visión',
            'vision.p1': 'Consolidarnos como una firma referente en el ámbito jurídico fiscal y empresarial, reconocida por su criterio estratégico, profundidad técnica y ética profesional, sentando las bases para la creación y expansión de nuevos despachos bajo una misma filosofía, dirección y estándar de excelencia.',
            'vision.p2': 'Nuestra visión trasciende el presente al crear una estructura institucional con identidad propia, capaz de mantenerse, crecer y replicarse con coherencia, legado y permanencia.',
            'services.label': 'Qué hacemos',
            'services.title': 'Cinco sistemas,',
            'services.titleGold': 'una solución integral',
            'services.subtitle': 'Estructuras jurídicas, fiscales, contables y patrimoniales interconectadas.',
            's1.title': 'Sistema Jurídico–Patrimonial',
            's1.tagline': 'Protegemos personas, familias y patrimonios desde la raíz legal del conflicto.',
            's1.taglineShort': 'La contabilidad y la fiscalidad como herramientas de control y prevención.',
            's2.title': 'Sistema Fiscal–Contable–Administrativo',
            's2.tagline': 'Convertimos la contabilidad y la fiscalidad en herramientas de control y prevención, no en fuentes de riesgo.',
            's2.taglineShort': 'La contabilidad y la fiscalidad como herramientas de control y prevención.',
            's3.title': 'Sistema Empresarial–Corporativo',
            's3.tagline': 'Empresas que crecen sin colapsar jurídicamente.',
            's3.taglineFull': 'Diseñamos empresas que pueden crecer sin colapsar jurídicamente.',
            's4.title': 'Sistema Inmobiliario y de Desarrollo',
            's4.tagline': 'No vendemos inmuebles. Blindamos operaciones inmobiliarias.',
            's5.title': 'Sistema de Defensa y Contención',
            's5.tagline': 'Cuando el conflicto existe, la estrategia marca la diferencia.',
            'services.viewAll': 'Ver todos los servicios',
            'services.viewPage': 'Ver página completa',
            'contact.label': 'Contacto',
            'contact.title': 'Hablemos de su caso',
            'contact.subtitle': 'Estamos listos para atender sus necesidades legales y fiscales. Escríbanos o llame directamente.',
            'contact.whatsapp': 'WhatsApp',
            'contact.quickReply': 'Respuesta rápida',
            'contact.phone': 'Teléfono',
            'contact.email': 'Email',
            'contact.schedule': 'Horario',
            'contact.schedule1': 'Lun–Vie 9:00 – 18:00',
            'contact.schedule2': 'Sáb 9:00 – 14:00',
            'contact.sendMsg': 'Envíenos un mensaje',
            'contact.placeholderName': 'Nombre completo',
            'contact.placeholderContact': 'Email o WhatsApp',
            'contact.placeholderMsg': 'Mensaje',
            'contact.send': 'Enviar',
            'contact.openMaps': 'Abrir en Maps',
            'contact.viewMap': 'Ver ubicación completa',
            'footer.nav': 'Navegación',
            'footer.contact': 'Contacto',
            'footer.desc': 'Soluciones jurídicas, fiscales y corporativas con enfoque estratégico. Años de experiencia profesional respaldando el crecimiento de empresas y familias.',
            'footer.phone': 'Teléfono',
            'footer.location': 'Ubicación',
            'footer.viewMap': 'Ver en mapa',
            'footer.rights': '© 2026 MM Consultores & Auditores, S.C. · Todos los derechos reservados',
            'footer.privacy': 'Aviso de Privacidad',
            'footer.terms': 'Términos y Condiciones',
            'footer.tagline': '"Problemas complejos, soluciones estratégicas"',
            'footer.credit': '© Página creada por',
            'servicios.whatWeDo': 'Qué hacemos',
            'servicios.heroTitle': 'Cinco sistemas,',
            'servicios.heroSub': 'una solución integral',
            'servicios.heroDesc': 'Estructuras jurídicas, fiscales, contables y patrimoniales interconectadas para ordenar, proteger y construir.',
            'servicios.contact': 'Contactar',
            'servicios.back': 'Volver a servicios',
            'servicios.system': 'Sistema',
            'servicios.system01': 'Sistema 01',
            'servicios.system02': 'Sistema 02',
            'servicios.system03': 'Sistema 03',
            'servicios.system04': 'Sistema 04',
            'servicios.system05': 'Sistema 05',
            'servicios.areas': 'Áreas de atención',
            's1.desc': 'Este sistema integra el análisis y atención de asuntos civiles, familiares, agrarios, mercantiles y penales estratégicos, siempre considerando el impacto económico, patrimonial y humano de cada decisión.',
            's1.l1': 'Derecho civil y patrimonial estratégico',
            's1.l2': 'Derecho familiar con enfoque patrimonial',
            's1.l3': 'Asuntos agrarios y regularización de tierras',
            's1.l4': 'Derecho mercantil y contratos',
            's1.l5': 'Penal patrimonial y empresarial',
            's2.desc': 'Este sistema está diseñado para ordenar la operación fiscal y administrativa de personas físicas y morales, anticipar contingencias y defender estructuras ante autoridades.',
            's2.l1': 'Contabilidad estratégica y análisis financiero',
            's2.l2': 'Planeación fiscal lícita',
            's2.l3': 'Regularización fiscal y administrativa',
            's2.l4': 'Defensa fiscal y administrativa ante autoridades',
            's2.l5': 'Cumplimiento normativo integral',
            's3.desc': 'Acompañamos a empresarios y organizaciones desde su constitución hasta su consolidación, estructurando decisiones clave que impactan su estabilidad y crecimiento.',
            's3.l1': 'Constitución y reestructura de sociedades',
            's3.l2': 'Contratos estratégicos y gobierno corporativo',
            's3.l3': 'Blindaje patrimonial del empresario',
            's3.l4': 'Fusiones, adquisiciones y reorganizaciones',
            's4.desc': 'Este sistema integra el derecho, la fiscalidad y la estrategia patrimonial para asegurar operaciones inmobiliarias sólidas y desarrollos viables.',
            's4.l1': 'Regularización de inmuebles',
            's4.l2': 'Escrituración y formalización legal',
            's4.l3': 'Análisis jurídico de compraventas',
            's4.l4': 'Estructuración de desarrollos inmobiliarios',
            's4.l5': 'Asesoría integral en bienes raíces',
            's5.desc': 'Este sistema se activa cuando ya existe una contingencia legal, fiscal o administrativa, enfocándose en la contención de riesgos y la defensa técnica especializada.',
            's5.l1': 'Defensa fiscal y administrativa',
            's5.l2': 'Litigio estratégico',
            's5.l3': 'Penal empresarial y patrimonial',
            's5.l4': 'Representación ante autoridades'
        },
        en: {
            'nav.home': 'Home',
            'nav.about': 'About us',
            'nav.services': 'Services',
            'nav.contact': 'Contact',
            'hero.tagline': 'Legal, tax and corporate consulting',
            'hero.line1': 'Complex problems,',
            'hero.line2': 'strategic solutions',
            'hero.subline': 'Strategic consulting and personalized attention for businesses and families.',
            'hero.cta': 'View services',
            'about.label': 'Our firm',
            'about.para': 'Our firm operates under an integrated solution systems model. We do not offer isolated services, but interconnected legal, fiscal, accounting, administrative and patrimonial structures, designed to organize, protect and build with a long-term vision.',
            'mission.title': 'Our mission',
            'mission.p1': 'To provide comprehensive legal, tax, accounting, business and corporate solutions, built from in-depth analysis of each case, with the purpose of generating order, certainty, prevention and patrimonial and business stability.',
            'mission.p2': 'Our mission is not to solve isolated problems, but to design legal and financial structures that allow individuals and companies to make informed, secure and sustainable decisions, even in adverse scenarios.',
            'vision.title': 'Our vision',
            'vision.p1': 'To consolidate ourselves as a benchmark firm in the legal, tax and business sphere, recognized for its strategic judgment, technical depth and professional ethics, laying the foundations for the creation and expansion of new firms under the same philosophy, direction and standard of excellence.',
            'vision.p2': 'Our vision transcends the present by creating an institutional structure with its own identity, capable of maintaining, growing and replicating itself with coherence, legacy and permanence.',
            'services.label': 'What we do',
            'services.title': 'Five systems,',
            'services.titleGold': 'one integrated solution',
            'services.subtitle': 'Interconnected legal, fiscal, accounting and patrimonial structures.',
            's1.title': 'Legal–Patrimonial System',
            's1.tagline': 'We protect people, families and patrimonies from the legal root of conflict.',
            's1.taglineShort': 'Accounting and tax as tools for control and prevention.',
            's2.title': 'Fiscal–Accounting–Administrative System',
            's2.tagline': 'We turn accounting and tax into tools for control and prevention, not sources of risk.',
            's2.taglineShort': 'Accounting and tax as tools for control and prevention.',
            's3.title': 'Business–Corporate System',
            's3.tagline': 'Companies that grow without collapsing legally.',
            's3.taglineFull': 'We design companies that can grow without collapsing legally.',
            's4.title': 'Real Estate and Development System',
            's4.tagline': 'We don\'t sell properties. We secure real estate operations.',
            's5.title': 'Defense and Containment System',
            's5.tagline': 'When conflict exists, strategy makes the difference.',
            'services.viewAll': 'View all services',
            'services.viewPage': 'View full page',
            'contact.label': 'Contact',
            'contact.title': 'Let\'s discuss your case',
            'contact.subtitle': 'We are ready to assist with your legal and tax needs. Write to us or call directly.',
            'contact.whatsapp': 'WhatsApp',
            'contact.quickReply': 'Quick response',
            'contact.phone': 'Phone',
            'contact.email': 'Email',
            'contact.schedule': 'Schedule',
            'contact.schedule1': 'Mon–Fri 9:00 AM – 6:00 PM',
            'contact.schedule2': 'Sat 9:00 AM – 2:00 PM',
            'contact.sendMsg': 'Send us a message',
            'contact.placeholderName': 'Full name',
            'contact.placeholderContact': 'Email or WhatsApp',
            'contact.placeholderMsg': 'Message',
            'contact.send': 'Send',
            'contact.openMaps': 'Open in Maps',
            'contact.viewMap': 'View full location',
            'footer.nav': 'Navigation',
            'footer.contact': 'Contact',
            'footer.desc': 'Legal, tax and corporate solutions with a strategic approach. Years of professional experience supporting the growth of businesses and families.',
            'footer.phone': 'Phone',
            'footer.location': 'Location',
            'footer.viewMap': 'View on map',
            'footer.rights': '© 2026 MM Consultores & Auditores, S.C. · All rights reserved',
            'footer.privacy': 'Privacy Notice',
            'footer.terms': 'Terms and Conditions',
            'footer.tagline': '"Complex problems, strategic solutions"',
            'footer.credit': '© Page created by',
            'servicios.whatWeDo': 'What we do',
            'servicios.heroTitle': 'Five systems,',
            'servicios.heroSub': 'one integrated solution',
            'servicios.heroDesc': 'Interconnected legal, fiscal, accounting and patrimonial structures to organize, protect and build.',
            'servicios.contact': 'Contact',
            'servicios.back': 'Back to services',
            'servicios.system': 'System',
            'servicios.system01': 'System 01',
            'servicios.system02': 'System 02',
            'servicios.system03': 'System 03',
            'servicios.system04': 'System 04',
            'servicios.system05': 'System 05',
            'servicios.areas': 'Areas of practice',
            's1.desc': 'This system integrates the analysis and handling of civil, family, agrarian, commercial and strategic criminal matters, always considering the economic, patrimonial and human impact of each decision.',
            's1.l1': 'Strategic civil and patrimonial law',
            's1.l2': 'Family law with patrimonial focus',
            's1.l3': 'Agrarian matters and land regularization',
            's1.l4': 'Commercial law and contracts',
            's1.l5': 'Patrimonial and business criminal law',
            's2.desc': 'This system is designed to organize the fiscal and administrative operation of individuals and legal entities, anticipate contingencies and defend structures before authorities.',
            's2.l1': 'Strategic accounting and financial analysis',
            's2.l2': 'Legal tax planning',
            's2.l3': 'Fiscal and administrative regularization',
            's2.l4': 'Fiscal and administrative defense before authorities',
            's2.l5': 'Comprehensive regulatory compliance',
            's3.desc': 'We accompany entrepreneurs and organizations from their constitution to consolidation, structuring key decisions that impact their stability and growth.',
            's3.l1': 'Constitution and restructuring of companies',
            's3.l2': 'Strategic contracts and corporate governance',
            's3.l3': 'Asset protection for entrepreneurs',
            's3.l4': 'Mergers, acquisitions and reorganizations',
            's4.desc': 'This system integrates law, taxation and patrimonial strategy to ensure solid real estate operations and viable developments.',
            's4.l1': 'Real estate regularization',
            's4.l2': 'Deed preparation and legal formalization',
            's4.l3': 'Legal analysis of sales and purchases',
            's4.l4': 'Structuring of real estate developments',
            's4.l5': 'Comprehensive real estate advisory',
            's5.desc': 'This system activates when a legal, fiscal or administrative contingency already exists, focusing on risk containment and specialized technical defense.',
            's5.l1': 'Fiscal and administrative defense',
            's5.l2': 'Strategic litigation',
            's5.l3': 'Business and patrimonial criminal law',
            's5.l4': 'Representation before authorities'
        }
    };

    window.MM_i18n = {
        t,
        apply(lang) {
            const l = lang || localStorage.getItem('mm-lang') || 'es';
            localStorage.setItem('mm-lang', l);
            document.documentElement.lang = l;
            const tr = t[l] || t.es;

            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (tr[key] !== undefined) el.textContent = tr[key];
            });
            document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
                const key = el.getAttribute('data-i18n-placeholder');
                if (tr[key] !== undefined) el.placeholder = tr[key];
            });

            document.querySelectorAll('.lang-pill button').forEach(btn => {
                const isEs = /lang-es/.test(btn.id || '');
                const isEn = /lang-en/.test(btn.id || '');
                btn.classList.toggle('active', (l === 'es' && isEs) || (l === 'en' && isEn));
            });
        },
        init() {
            const lang = localStorage.getItem('mm-lang') || 'es';
            this.apply(lang);
            ['lang-es','lang-en','lang-es-mob','lang-en-mob','lang-es-menu','lang-en-menu'].forEach(id => {
                const btn = document.getElementById(id);
                if (btn) btn.addEventListener('click', () => this.apply(id.includes('es') ? 'es' : 'en'));
            });
        }
    };

    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', () => window.MM_i18n.init());
    } else {
        window.MM_i18n.init();
    }
})();
